<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Island Admin Panel ğŸŒ¸</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Nunito', sans-serif; background: #dcedc1; text-align:center; padding:40px; }
input { padding:8px; margin:10px 0; border-radius:8px; border:1px solid #ccc; width:60%; }
button { padding:10px 20px; margin:10px; border-radius:10px; border:none; cursor:pointer; font-weight:bold; background:#ffb6b9; }
button:hover { background:#ff8b94; }
.card { background:white; padding:25px; border-radius:20px; display:inline-block; box-shadow:0 8px 20px rgba(0,0,0,0.15); }
</style>
</head>
<body>

<div class="card" id="loginDiv">
    <h2>ğŸŒ¸ Admin Login</h2>
    <input id="adminPassword" placeholder="Admin Password" type="password"><br>
    <button onclick="adminLogin()">Login</button>
</div>

<div class="card" id="panelDiv" style="display:none;">
    <h2>ğŸ‰ Admin Panel</h2>
    <input id="newCode" placeholder="New Dodo Code"><br>
    <button onclick="changeCode()">Update Dodo Code</button>
    <p id="status"></p>
</div>

<script>
function adminLogin(){
    const pw = document.getElementById("adminPassword").value;
    fetch("/admin-login", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify({password: pw})
    }).then(res=>res.json())
    .then(data=>{
        if(data.success){
            document.getElementById("loginDiv").style.display="none";
            document.getElementById("panelDiv").style.display="block";
        } else {
            alert("Wrong admin password!");
        }
    });
}

function changeCode(){
    const newCode = document.getElementById("newCode").value;
    fetch("/change-code", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify({code: newCode})
    }).then(res=>{
        if(res.status===200){
            document.getElementById("status").innerText = "âœ… Dodo Code updated!";
        } else {
            document.getElementById("status").innerText = "âŒ Error updating code.";
        }
    });
}
</script>

</body>
</html>